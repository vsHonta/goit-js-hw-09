{"mappings":"YAAA,IAAMA,EAAO,CACTC,IAAMC,SAASC,cAAc,UAC7BC,KAAOF,SAASC,cAAc,SAC9BE,WAAaH,SAASC,cAAc,qBACpCG,KAAOJ,SAASC,cAAc,oBAC9BI,OAASL,SAASC,cAAc,uBAKjBK,GAA6BR,EAAxCC,IAAwCD,EAAnCI,KAAmCJ,EAA7BK,YAAYI,EAAiBT,EAAjBM,KAAMI,EAAWV,EAAXO,OAgBrC,SAASI,EAAUC,G,IAAEC,EAAFD,EAAEC,SAAUC,EAAZF,EAAYE,MAC3BC,QAAQC,IAAI,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANH,EAAM,M,CAI9D,SAASI,EAAQN,G,IAAEC,EAAFD,EAAEC,SAAUC,EAAZF,EAAYE,MACzBC,QAAQC,IAAI,sBAAuCC,OAAfJ,EAAS,QAAYI,OAANH,EAAM,M,CAe7Dd,EAAKI,KAAKe,iBAAiB,UAVV,SAACC,G,oBAKVC,YAAW,W,OA9BIR,EA8BgBS,EA9BNR,EA8BSS,EA7BhCC,EAAgBC,KAAKC,SAAW,GAE7B,IAAIC,SAAQ,SAACC,EAASC,GAEnBL,EACJI,EAAQ,CAAEf,WAAUC,UACXe,EAAO,CAAEhB,WAAUC,S,KAuBcgB,KAAKnB,GAAWoB,MAAMb,GA9B5E,IAAuBL,EAAUC,EACvBU,C,GA6B4ED,E,EAJlFH,EAAIY,iBAEJ,IAAK,IAAIC,EAAI,EAAGC,EAAaC,OAAO3B,EAAW4B,OAAQH,GAAKE,OAAOzB,EAAO0B,OACtEH,GAAK,EAAGC,GAAcC,OAAO1B,EAAK2B,OAAMC,EAAAJ,EAAAC,E","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n    btn : document.querySelector('button'),\n    form : document.querySelector('.form'),\n    delayInput : document.querySelector('input[name=delay]'),\n    step : document.querySelector('input[name=step]'),\n    amount : document.querySelector('input[name=amount]'),\n}\n\n\n\nconst { btn, form, delayInput, step, amount } = refs\n\nfunction createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    \n    return   new Promise((resolve, reject) => {\n        \n            if (shouldResolve) {\n            resolve({ position, delay })\n            } else { reject({ position, delay })}\n            \n        })\n}\n\n\n\nfunction onSuccess({ position, delay }) {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\n\nfunction onError({ position, delay }) {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\n\n\nconst onSubmit = (evt) => {\n    evt.preventDefault()\n\n    for (let i = 1, totalDelay = Number(delayInput.value); i <= Number(amount.value);\n        i += 1, totalDelay += Number(step.value)) {\n        setTimeout(() => createPromise(i, totalDelay).then(onSuccess).catch(onError), totalDelay)\n    }\n}\n\n\nrefs.form.addEventListener('submit', onSubmit)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function createPromise(position, delay) {\n    \n//     const promise = new Promise((resolve, reject) => {\n//         () => {\n//             const shouldResolve = Math.random() > 0.3;\n//             if (shouldResolve) {\n//                 resolve({\n//                     position,\n//                     delay,\n//                 })\n//             } else {\n//                 reject({\n//                     position,\n//                     delay,\n//                 })\n//             }\n//         }   \n//     })\n//     return promise\n    \n// }\n\n\n// let counter = 1\n\n\n// form.addEventListener('submit', (evt) => {\n//     evt.preventDefault()\n//     if (counter <= 3) {\n//         setInterval(createPromise(counter, step.value)\n//             .then(({ position, delay }) => {\n//             console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//         })\n//         .catch(({ position, delay }) => {\n//             console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//         }), 2000)\n//     }\n    \n    \n//     // setTimeout(createPromise(1, step.value).then((result)=>console.log(done)).catch((result) => console.log(Fail)), delayInput)\n\n//     // const interval = setInterval(createPromise(), step.value)\n//     // setTimeout(interval, delayInput.value)\n\n// })"],"names":["$ce04d3a99e08e73b$var$refs","btn","document","querySelector","form","delayInput","step","amount","$ce04d3a99e08e73b$var$delayInput","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$onSuccess","param","position","delay","console","log","concat","$ce04d3a99e08e73b$var$onError","addEventListener","evt","setTimeout","i","totalDelay","shouldResolve","Math","random","Promise","resolve","reject","then","catch","preventDefault","i1","totalDelay1","Number","value","_loop"],"version":3,"file":"03-promises.ad8714ed.js.map"}